(()=>{"use strict";var e=document.querySelector(".calculator__form"),t=(document.querySelector(".calculator__submit-btn"),e.querySelector(".form__input_cost")),n=e.querySelector(".form__range_cost"),a=e.querySelector(".form__input_payment"),u=e.querySelector(".form__range_payment"),r=e.querySelector(".form__payment-percent"),l=e.querySelector(".form__input_term"),o=e.querySelector(".form__range_term"),i=document.querySelector(".calculator__sum-value"),c=document.querySelector(".calculator__payment-value"),v={inputElm:t,rangeElm:n},m={rangeElm:u,inputElm:a,percentElm:r,priceValue:333e4},f={inputElm:l,rangeElm:o,initialMonthValue:60};function d(e){return e.toLocaleString("ru")}function p(e){return+e.replace(/[\s\D]/g,"")}function _(e,t){var n=t.min,a=t.max-n,u=100*n/a,r=100*e.value/a-u;e.style.background="linear-gradient(to right, #FF9514 0%, #FF9514 ".concat(r,"%, #d3d3d3 ").concat(r,"%, #d3d3d3 100%)")}var E={min:15,max:100},x={min:10,max:60};function s(e,t,n,a){var u=p(a.value);n.textContent="".concat(e.value,"%"),t.value=d(u/100*n.textContent.replace("%","")),_(e,x)}var y={min:6,max:120};!function(){function e(){var e,n,u,r,o,i,v=(e=p(t.value),n=p(a.value),u=+l.value,r=e-n,o=.05*Math.pow(1.05,u),i=Math.pow(1.05,u)-1,Math.round(r*(o/i)));c.textContent=d(v)}function g(){var e=function(e,t,n){return e+t*n}(p(a.value),+l.value,p(c.textContent));i.textContent=d(e)}var S,q;q=(S=v).rangeElm,S.inputElm.value=d(33.3*1e5),q.value=33.3,_(q,E),function(e){var t=e.rangeElm,n=e.percentElm,a=e.priceValue/100*13;e.inputElm.value=d(a),t.value=13,n.textContent="".concat(t.value,"%"),_(t,x)}(m),function(e){var t=e.rangeElm,n=e.inputElm,a=e.initialMonthValue;t.value=a,n.value=a,_(t,y)}(f),n.addEventListener("input",(function(){!function(e,t){t.value=d(1e5*e.value),_(e,E)}(n,t),s(u,a,r,t),e(),g()})),t.addEventListener("input",(function(){!function(e,t){var n=p(t.value),a=d(+n);t.value=a,e.value=n/1e5,_(e,E)}(n,t),s(u,a,r,t),e(),g()})),t.addEventListener("blur",(function(){!function(e,t){var n=p(t.value);n<1e5*E.min&&(t.value=d(1e5*E.min),e.value=E.min,_(e,E)),n>1e5*E.max&&(t.value=d(1e5*E.max),e.value=E.max,_(e,E))}(n,t),s(u,a,r,t),e(),g()})),u.addEventListener("input",(function(){s(u,a,r,t),e(),g()})),a.addEventListener("input",(function(){!function(e,t,n,a){var u=p(a.value),r=p(t.value),l=d(+r),o=r/u*100;t.value=l,n.textContent="".concat(o.toFixed(1),"%"),e.value=o,_(e,x)}(u,a,r,t),e(),g()})),a.addEventListener("blur",(function(){!function(e,t,n,a){var u=p(a.value),r=p(t.value),l=u/100*60,o=u/100*10;r<o&&(t.value=d(o),n.textContent="".concat(10,"%"),e.value=x.min,_(e,x)),r>l&&(t.value=d(l),n.textContent="".concat(60,"%"),e.value=x.max,_(e,x))}(u,a,r,t),e(),g()})),o.addEventListener("input",(function(){!function(e,t){t.value=e.value,_(e,y)}(o,l),e(),g()})),l.addEventListener("input",(function(){!function(e,t){e.value=t.value,_(e,y)}(o,l),e(),g()})),l.addEventListener("blur",(function(){!function(e,t){var n=+t.value;n<y.min&&(t.value=y.min,e.value=y.min,_(e,y)),+n>y.max&&(t.value=y.max,e.value=y.max,_(e,y))}(o,l),e(),g()}))}(),e.addEventListener("submit",(function(e){e.preventDefault();var n={carPrice:p(t.value),firstPay:p(a.value),term:l.value,sumOfDeal:p(i.textContent),monthlyPayment:p(c.textContent)};alert(JSON.stringify(n))}))})();